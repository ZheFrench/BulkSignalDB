"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Controller = void 0;
const meta_1 = require("../meta");
function Controller(url, middlewareOrRouterOptions, middleware = []) {
    return (target) => {
        var _a, _b;
        const meta = meta_1.getMeta(target.prototype);
        meta.url = url;
        meta.middleware = Array.isArray(middlewareOrRouterOptions) ? middlewareOrRouterOptions.concat((_a = meta.middleware) !== null && _a !== void 0 ? _a : []) : middleware.concat((_b = meta.middleware) !== null && _b !== void 0 ? _b : []);
        meta.routerOptions = Array.isArray(middlewareOrRouterOptions) ? null : middlewareOrRouterOptions;
    };
}
exports.Controller = Controller;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udHJvbGxlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9kZWNvcmF0b3JzL2NvbnRyb2xsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBRUEsa0NBQStDO0FBa0IvQyxTQUFnQixVQUFVLENBQUMsR0FBVyxFQUFFLHlCQUFrRCxFQUFFLGFBQXFCLEVBQUU7SUFDakgsT0FBTyxDQUFDLE1BQU0sRUFBUSxFQUFFOztRQUN0QixNQUFNLElBQUksR0FBZ0IsY0FBTyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUVwRCxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUNmLElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyx5QkFBeUIsQ0FBQyxNQUFNLE9BQUMsSUFBSSxDQUFDLFVBQVUsbUNBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxNQUFNLE9BQUMsSUFBSSxDQUFDLFVBQVUsbUNBQUksRUFBRSxDQUFDLENBQUM7UUFDaEssSUFBSSxDQUFDLGFBQWEsR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLHlCQUF5QixDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMseUJBQXlCLENBQUM7SUFDbkcsQ0FBQyxDQUFDO0FBQ0osQ0FBQztBQVJELGdDQVFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyT3B0aW9ucyB9IGZyb20gJ2V4cHJlc3MnO1xuXG5pbXBvcnQgeyBFeHByZXNzTWV0YSwgZ2V0TWV0YSB9IGZyb20gJy4uL21ldGEnO1xuaW1wb3J0IHsgVHlwZSB9IGZyb20gJy4uL21pZGRsZXdhcmUnO1xuXG4vKipcbiAqIFJlZ2lzdGVycyBjb250cm9sbGVyIGZvciBiYXNlIHVybFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAqIEBwYXJhbSB7VHlwZVtdfSBbbWlkZGxld2FyZV1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENvbnRyb2xsZXIodXJsOiBzdHJpbmcsIG1pZGRsZXdhcmU/OiBUeXBlW10pO1xuLyoqXG4gKiBSZWdpc3RlcnMgY29udHJvbGxlciBmb3IgYmFzZSB1cmxcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gKiBAcGFyYW0gcm91dGVyT3B0aW9uc1xuICogQHBhcmFtIHtUeXBlW119IFttaWRkbGV3YXJlXVxuICovXG5leHBvcnQgZnVuY3Rpb24gQ29udHJvbGxlcih1cmw6IHN0cmluZywgcm91dGVyT3B0aW9ucz86IFJvdXRlck9wdGlvbnMsIG1pZGRsZXdhcmU/OiBUeXBlW10pO1xuZXhwb3J0IGZ1bmN0aW9uIENvbnRyb2xsZXIodXJsOiBzdHJpbmcsIG1pZGRsZXdhcmVPclJvdXRlck9wdGlvbnM/OiBUeXBlW10gfCBSb3V0ZXJPcHRpb25zLCBtaWRkbGV3YXJlOiBUeXBlW10gPSBbXSkge1xuICByZXR1cm4gKHRhcmdldCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IG1ldGE6IEV4cHJlc3NNZXRhID0gZ2V0TWV0YSh0YXJnZXQucHJvdG90eXBlKTtcblxuICAgIG1ldGEudXJsID0gdXJsO1xuICAgIG1ldGEubWlkZGxld2FyZSA9IEFycmF5LmlzQXJyYXkobWlkZGxld2FyZU9yUm91dGVyT3B0aW9ucykgPyBtaWRkbGV3YXJlT3JSb3V0ZXJPcHRpb25zLmNvbmNhdChtZXRhLm1pZGRsZXdhcmUgPz8gW10pIDogbWlkZGxld2FyZS5jb25jYXQobWV0YS5taWRkbGV3YXJlID8/IFtdKTtcbiAgICBtZXRhLnJvdXRlck9wdGlvbnMgPSBBcnJheS5pc0FycmF5KG1pZGRsZXdhcmVPclJvdXRlck9wdGlvbnMpID8gbnVsbCA6IG1pZGRsZXdhcmVPclJvdXRlck9wdGlvbnM7XG4gIH07XG59XG4iXX0=