"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const meta_1 = require("../meta");
/**
 * Parameter decorator factory, creates parameter decorator
 *
 * @param {ParameterType} type
 */
function makeDecorator(type) {
    return (wrapper) => {
        return (target, methodName, index) => {
            const meta = meta_1.getMeta(target);
            if (meta.params[methodName] === undefined) {
                meta.params[methodName] = [];
            }
            meta.params[methodName].push({ type, index, wrapper });
        };
    };
}
/**
 * Returns server itself
 *
 * @type {SocketIO.Server}
 */
exports.IO = makeDecorator(meta_1.ParameterType.IO);
/**
 * Returns socket
 *
 * @type {SocketIO.Socket}
 */
exports.Socket = makeDecorator(meta_1.ParameterType.Socket);
/**
 * Returns event arguments (excluding callback)(if it exists)
 *
 * @type {any[]}
 */
exports.Args = makeDecorator(meta_1.ParameterType.Args);
/**
 * Returns ack callback function (if it exists)
 *
 * @type {Function}
 */
exports.Ack = makeDecorator(meta_1.ParameterType.Ack);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFyYW1zLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2RlY29yYXRvcnMvcGFyYW1zLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsa0NBQTBFO0FBRTFFOzs7O0dBSUc7QUFDSCxTQUFTLGFBQWEsQ0FBQyxJQUFtQjtJQUN4QyxPQUFPLENBQUMsT0FBYSxFQUFzQixFQUFFO1FBQzNDLE9BQU8sQ0FBQyxNQUFtQixFQUFFLFVBQWtCLEVBQUUsS0FBYSxFQUFFLEVBQUU7WUFDaEUsTUFBTSxJQUFJLEdBQWUsY0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBRXpDLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsS0FBSyxTQUFTLEVBQUU7Z0JBQ3pDLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLEdBQUcsRUFBRSxDQUFDO2FBQzlCO1lBRUQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUM7UUFDekQsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxDQUFDO0FBQ0osQ0FBQztBQUVEOzs7O0dBSUc7QUFDVSxRQUFBLEVBQUUsR0FBRyxhQUFhLENBQUMsb0JBQWEsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUVsRDs7OztHQUlHO0FBQ1UsUUFBQSxNQUFNLEdBQUcsYUFBYSxDQUFDLG9CQUFhLENBQUMsTUFBTSxDQUFDLENBQUM7QUFFMUQ7Ozs7R0FJRztBQUNVLFFBQUEsSUFBSSxHQUFHLGFBQWEsQ0FBQyxvQkFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBRXREOzs7O0dBSUc7QUFDVSxRQUFBLEdBQUcsR0FBRyxhQUFhLENBQUMsb0JBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNvY2tldE1ldGEsIFBhcmFtZXRlclR5cGUsIFNvY2tldENsYXNzLCBnZXRNZXRhIH0gZnJvbSAnLi4vbWV0YSc7XG5cbi8qKlxuICogUGFyYW1ldGVyIGRlY29yYXRvciBmYWN0b3J5LCBjcmVhdGVzIHBhcmFtZXRlciBkZWNvcmF0b3JcbiAqXG4gKiBAcGFyYW0ge1BhcmFtZXRlclR5cGV9IHR5cGVcbiAqL1xuZnVuY3Rpb24gbWFrZURlY29yYXRvcih0eXBlOiBQYXJhbWV0ZXJUeXBlKSB7XG4gIHJldHVybiAod3JhcHBlcj86IGFueSk6IFBhcmFtZXRlckRlY29yYXRvciA9PiB7XG4gICAgcmV0dXJuICh0YXJnZXQ6IFNvY2tldENsYXNzLCBtZXRob2ROYW1lOiBzdHJpbmcsIGluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgIGNvbnN0IG1ldGE6IFNvY2tldE1ldGEgPSBnZXRNZXRhKHRhcmdldCk7XG5cbiAgICAgIGlmIChtZXRhLnBhcmFtc1ttZXRob2ROYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG1ldGEucGFyYW1zW21ldGhvZE5hbWVdID0gW107XG4gICAgICB9XG5cbiAgICAgIG1ldGEucGFyYW1zW21ldGhvZE5hbWVdLnB1c2goeyB0eXBlLCBpbmRleCwgd3JhcHBlciB9KTtcbiAgICB9O1xuICB9O1xufVxuXG4vKipcbiAqIFJldHVybnMgc2VydmVyIGl0c2VsZlxuICpcbiAqIEB0eXBlIHtTb2NrZXRJTy5TZXJ2ZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCBJTyA9IG1ha2VEZWNvcmF0b3IoUGFyYW1ldGVyVHlwZS5JTyk7XG5cbi8qKlxuICogUmV0dXJucyBzb2NrZXRcbiAqXG4gKiBAdHlwZSB7U29ja2V0SU8uU29ja2V0fVxuICovXG5leHBvcnQgY29uc3QgU29ja2V0ID0gbWFrZURlY29yYXRvcihQYXJhbWV0ZXJUeXBlLlNvY2tldCk7XG5cbi8qKlxuICogUmV0dXJucyBldmVudCBhcmd1bWVudHMgKGV4Y2x1ZGluZyBjYWxsYmFjaykoaWYgaXQgZXhpc3RzKVxuICpcbiAqIEB0eXBlIHthbnlbXX1cbiAqL1xuZXhwb3J0IGNvbnN0IEFyZ3MgPSBtYWtlRGVjb3JhdG9yKFBhcmFtZXRlclR5cGUuQXJncyk7XG5cbi8qKlxuICogUmV0dXJucyBhY2sgY2FsbGJhY2sgZnVuY3Rpb24gKGlmIGl0IGV4aXN0cylcbiAqXG4gKiBAdHlwZSB7RnVuY3Rpb259XG4gKi9cbmV4cG9ydCBjb25zdCBBY2sgPSBtYWtlRGVjb3JhdG9yKFBhcmFtZXRlclR5cGUuQWNrKTtcbiJdfQ==